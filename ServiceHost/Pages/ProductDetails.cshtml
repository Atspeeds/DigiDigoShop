@page "{id}"
@model ServiceHost.Pages.ProductDetailsModel
@{
    ViewData["Title"] = $"{Model.ProductModel.Name}";
}



<div class="product-details-top">
    <div class="bg-light pb-5 mb-4">
        <nav aria-label="breadcrumb" class="breadcrumb-nav border-0 mb-0">
            <div class="container d-flex align-items-center">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="index-1.html">فروشگاه دیجی دیگو</a></li>
                    <li class="breadcrumb-item"><a href="#">محصولات</a></li>
                    <li class="breadcrumb-item active" aria-current="page">@Model.ProductModel.Name</li>
                </ol>

                <nav class="product-pager mr-auto" aria-label="Product">
                    <a class="product-pager-link product-pager-prev" href="#" aria-label="Previous" tabindex="-1">
                        <i class="icon-angle-right"></i>
                        <span>قبلی</span>
                    </a>

                    <a class="product-pager-link product-pager-next" href="#" aria-label="Next" tabindex="-1">
                        <span>بعدی</span>
                        <i class="icon-angle-left"></i>
                    </a>
                </nav>
            </div>
        </nav>
        <div class="container">
            <div class="product-gallery-carousel owl-carousel owl-full owl-nav-dark owl-loaded owl-drag">

                <div class="owl-stage-outer">
                    <div class="owl-stage" style="transform: translate3d(0px, 0px, 0px); transition: all 0s ease 0s; width: 1558px;">
                        <div class="owl-item active" style="width: 389.333px;">
                            <figure class="product-gallery-image">
                                <img src="/ProductPictures/@(Model.ProductModel.Picture)" data-zoom-image="assets/images/products/single/gallery/1-big.html" alt="تصویر محصول">
                            </figure>
                        </div>
                        @foreach (var pic in Model.ProductModel.ProductPictures)
                        {
                            <div class="owl-item active" style="width: 389.333px;">
                                <figure class="product-gallery-image">
                                    <img src="/ProductPictures/@(pic.Picture)" data-zoom-image="assets/images/products/single/gallery/1-big.html" alt="تصویر محصول">
                                </figure>
                            </div>
                        }

                    </div>
                </div><div class="owl-nav"><button type="button" role="presentation" class="owl-prev disabled"><i class="icon-angle-left"></i></button><button type="button" role="presentation" class="owl-next"><i class="icon-angle-right"></i></button></div><div class="owl-dots disabled"></div>
            </div><!-- End .owl-carousel -->
        </div>
    </div><!-- End .bg-light pb-5 -->

    <div class="product-details product-details-centered product-details-separator">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h1 class="product-title text-center">@Model.ProductModel.Name</h1>
                    <!-- End .product-title -->

                    <div class="ratings-container">
                        <div class="ratings">
                            <div class="ratings-val" style="width: 80%;"></div><!-- End .ratings-val -->
                        </div><!-- End .ratings -->
                        <a class="ratings-text" href="#product-review-link" id="review-link">
                            ( 2 نظر
                            )
                        </a>
                    </div><!-- End .rating-container -->

                    <div class="product-price">
                        @if (!string.IsNullOrWhiteSpace(Model.ProductModel.PriceWithDiscount))
                        {
                            <span class="new-price">@Model.ProductModel تومان</span>
                            <span class="old-price checkout-discount">@Model.ProductModel تومان</span>
                        }
                        else
                        {

                            <span class="price">@(Model.ProductModel.Price)  تومان</span>
                        }
                    </div>
                    <span style="color:darkgrey">کد محصول :@Model.ProductModel.Code</span>
                    <br />
                    <div class="product-content">

                        <br />
                        <span>توضیحات کوتاه:</span>
                        <p class="text-center">
                            @Model.ProductModel.ShortDescription
                        </p>
                    </div>

                    <div class="details-filter-row details-row-size">
                        <label>
                            وضعیت :
                            @(Model.ProductModel.Stock ? Html.Raw("<span style='color:green; font-weight: bolder;'>موجود در انبار</span>") : Html.Raw("<span style='color:read; font-weight: bolder;'>ناموجود در انبار</span>"))
                        </label>

                    </div>

                </div>

                <div class="col-md-6">
                    <div class="product-details-action">
                        <div class="details-action-col">
                            <div class="product-details-quantity">
                                <input type="number" id="qty" class="form-control" value="1" min="1" max="10" step="1" data-decimals="0" required="" style="display: none;">
                            </div>

                            <a href="#" class="btn-product btn-cart"><span>افزودن به سبد خرید</span></a>
                        </div>

                        <div class="details-action-wrapper mr-0">
                            <a href="#" class="btn-product btn-wishlist" title="لیست علاقه مندی">
                                <span>
                                    افزودن
                                    به
                                    لیست علاقه مندی
                                </span>
                            </a>
                            <a href="#" class="btn-product btn-compare" title="مقایسه">
                                <span>
                                    افزودن به
                                    لیست مقایسه
                                </span>
                            </a>
                        </div>
                    </div>

                    <div class="product-details-footer details-footer-col">
                        <div class="product-cat text-center">
                            <span>دسته بندی : </span>
                            <a asp-page="ProductCategory" asp-route-id="@Model.ProductModel.CategorySlug">@Model.ProductModel.ProductCategory</a>

                        </div>

                        <div class="social-icons social-icons-sm mr-0">
                            <span class="social-label">اشتراک گذاری : </span>
                            <a href="#" class="social-icon" title="فیسبوک" target="_blank"><i class="icon-facebook-f"></i></a>
                            <a href="#" class="social-icon" title="توییتر" target="_blank"><i class="icon-twitter"></i></a>
                            <a href="#" class="social-icon" title="اینستاگرام" target="_blank"><i class="icon-instagram"></i></a>
                            <a href="#" class="social-icon" title="پینترست" target="_blank"><i class="icon-pinterest"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container">
    <div class="product-details-tab">
        <ul class="nav nav-pills justify-content-center" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" id="product-desc-link" data-toggle="tab" href="#product-desc-tab" role="tab" aria-controls="product-desc-tab" aria-selected="true">توضیحات</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="product-info-link" data-toggle="tab" href="#product-info-tab" role="tab" aria-controls="product-info-tab" aria-selected="false">اطلاعات بیشتر</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="product-shipping-link" data-toggle="tab" href="#product-shipping-tab" role="tab" aria-controls="product-shipping-tab" aria-selected="false">ارسال و بازگشت</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="product-review-link" data-toggle="tab" href="#product-review-tab" role="tab" aria-controls="product-review-tab" aria-selected="false">نظرات (2)</a>
            </li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane fade show active" id="product-desc-tab" role="tabpanel" aria-labelledby="product-desc-link">
                <div class="product-desc-content">
                    <h3>توضیحات کامل:</h3>
                    <p>
                        @Model.ProductModel.Description
                    </p>

                </div>
            </div>
            <div class="tab-pane fade" id="product-info-tab" role="tabpanel" aria-labelledby="product-info-link">
                <div class="product-desc-content">
                    <h3>اطلاعات</h3>
                    <p>
                        لورم ایپسوم متن ساختگی با تولید سادگی نامفهوم لورم ایپسوم متن ساختگی با تولید
                        سادگی نامفهوم لورم ایپسوم متن ساختگی با تولید سادگی نامفهوملورم ایپسوم متن
                        ساختگی با تولید سادگی نامفهوملورم ایپسوم متن ساختگی با تولید سادگی نامفهوملورم
                        ایپسوم متن ساختگی با تولید سادگی نامفهوم.
                    </p>

                    <h3>اطلاعات بیشتر</h3>
                    <ul>
                        <li>لورم ایپسوم متن ساختگی</li>
                        <li>لورم ایپسوم متن ساختگی با تولید سادگی</li>
                        <li>لورم ایپسوم</li>
                        <li>لورم ایپسوم متن ساختگی </li>
                        <li>لورم ایپسوم متن ساختگی با تولید سادگی</li>
                        <li> ارتفاع: 31سانتی متر; عرض: 32سانتی متر; عمق: 12سانتی متر</li>
                    </ul>

                    <h3>سایز</h3>
                    <p>تک سایز</p>
                </div>
            </div>
            <div class="tab-pane fade" id="product-shipping-tab" role="tabpanel" aria-labelledby="product-shipping-link">
                <div class="product-desc-content">
                    <h3>ارسال و بازگشت</h3>
                    <p>
                        لورم ایپسوم متن ساختگی با تولید سادگی نامفهوم لورم ایپسوم متن ساختگی با تولید
                        سادگی نامفهوم لورم ایپسوم متن ساختگی با تولید سادگی نامفهوم لورم ایپسوم متن
                        ساختگی با تولید سادگی نامفهوم<br>
                        لورم ایپسوم متن ساختگی با تولید سادگی نامفهوم لورم ایپسوم متن ساختگی با تولید
                        سادگی نامفهوم لورم ایپسوم متن ساختگی با تولید سادگی نامفهوملورم ایپسوم متن
                        ساختگی با تولید سادگی نامفهوملورم ایپسوم متن ساختگی با تولید سادگی نامفهوم.
                    </p>
                </div><!-- End .product-desc-content -->
            </div><!-- .End .tab-pane -->
            <div class="tab-pane fade" id="product-review-tab" role="tabpanel" aria-labelledby="product-review-link">
                <div class="reviews">
                    <h3>نظر (2)</h3>

                    @await Component.InvokeAsync("Comment",Model.ProductModel.ProductId)

                    <div class="cta cta-horizontal mb-3">
                        <div class="row align-items-center">
                            <div class="col-lg-4 col-xl-3 offset-xl-1">
                                <h3 class="cta-title text-right">نظر خود را بنویسید</h3><!-- End .cta-title -->
                                <p class="cta-desc">با نظر دهی به این محصول به بهبود کفیت محصول کمک کنید.</p><!-- End .cta-desc -->
                            </div><!-- End .col-xl-3 -->
                            <div class="col-lg-8 col-xl-7">
                                <form asp-page-handler="AddComment" method="post"
                                      data-ajax="true"
                                      data-callback=""
                                      data-action="Refresh">
                                    <div class="input-group">
                                        <input name="Name" type="text" class="form-control" placeholder="نام خود را وارد کنید" aria-label="First Name" required="">
                                    </div>
                                    <div class="input-group" style="margin-top:10px;">
                                        <input name="Email" type="email" class="form-control" placeholder="ایمیل خود را وارد کنید" aria-label="Email Adress" required="">
                                        <div class="input-group-append">
                                        </div>
                                        <div class="input-group">
                                            <textarea name="Message" style="margin-top:10px;margin-bottom:10px" class="form-control" placeholder="نظر خود را بنویسید" required=""></textarea>
                                        </div>
                                        <input type="hidden" name="ProductId" value="@Model.ProductModel.ProductId" />
                                        <button style="margin-right:3%" class="btn btn-primary btn-rounded" type="submit"><span>ثبت</span><i class="icon-long-arrow-left"></i></button>

                                    </div><!-- .End .input-group -->
                                </form>
                            </div><!-- End .col-xl-7 -->
                        </div><!-- End .row -->
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

<div class="container">
    <h2 class="title text-center mb-4">محصولاتی که شاید بپسندید</h2>
    <div class="owl-carousel owl-simple carousel-equal-height carousel-with-shadow owl-rtl owl-loaded owl-drag" data-toggle="owl" data-owl-options="{
                                &quot;nav&quot;: false,
                                &quot;dots&quot;: true,
                                &quot;margin&quot;: 20,
                                &quot;loop&quot;: false,
                                &quot;rtl&quot;: true,
                            &quot;responsive&quot;: {
                                    &quot;0&quot;: {
                                        &quot;items&quot;:1
                                    },
                                    &quot;480&quot;: {
                                        &quot;items&quot;:2
                                    },
                                    &quot;768&quot;: {
                                        &quot;items&quot;:3
                                    },
                                    &quot;992&quot;: {
                                        &quot;items&quot;:4
                                    },
                                    &quot;1200&quot;: {
                                        &quot;items&quot;:4,
                                        &quot;nav&quot;: true,
                                        &quot;dots&quot;: false
                                    }
                                }
                            }">

        <div class="owl-stage-outer">
            <div class="owl-stage" style="transform: translate3d(0px, 0px, 0px); transition: all 0s ease 0s; width: 1485px;">
                @foreach (var product in Model.ProductModel.ProductQueryModels)
                {
                    <div class="owl-item active" style="width: 217.6px; margin-left: 20px;">
                        <div class="product product-2">
                            <figure class="product-media">
                                @if (!string.IsNullOrWhiteSpace(product.PriceWithDiscount))
                                {
                                    <span class="product-label label-circle label-sale">فروش ویژه</span>

                                }
                                <a asp-page="ProductDetails" asp-route-id="@product.Slug">
                                    <img src="~/ProductPictures/@(product.Picture)" alt="@product.PictureAlt" title="@product.PictureTitle" class="product-image">
                                </a>

                                <div class="product-action-vertical">
                                    <a href="#" class="btn-product-icon btn-wishlist btn-expandable">
                                        <span>
                                            افزودن به
                                            لیست علاقه مندی
                                        </span>
                                    </a>
                                </div><!-- End .product-action -->

                                <div class="product-action product-action-dark">
                                    <a href="#" class="btn-product btn-cart" title="افزودن به سبد خرید">
                                        <span>
                                            افزودن
                                            به سبد خرید
                                        </span>
                                    </a>
                                    <a href="popup/quickView.html" class="btn-product btn-quickview" title="مشاهده سریع محصولات"><span>مشاهده سریع</span></a>
                                </div><!-- End .product-action -->
                            </figure><!-- End .product-media -->

                            <div class="product-body">
                                <h3 class="product-title">
                                    <a asp-page="ProductDetails" asp-route-id="@product.Slug">
                                        @product.Name
                                    </a>
                                </h3><!-- End .product-title -->
                                <div class="product-price">
                                    @if (!string.IsNullOrWhiteSpace(product.PriceWithDiscount))
                                    {
                                        <span class="new-price">@product.PriceWithDiscount تومان</span>
                                        <span class="old-price checkout-discount">@product.Price تومان</span>
                                    }
                                    else
                                    {
                                        @product.Price
                                    }

                                </div><!-- End .product-price -->
                                <div class="ratings-container">
                                    <div class="ratings">
                                        <div class="ratings-val" style="width: 80%;"></div>
                                        <!-- End .ratings-val -->
                                    </div><!-- End .ratings -->
                                    <span class="ratings-text">( 4 بازدید )</span>
                                </div><!-- End .rating-container -->

                                <div class="product-nav product-nav-dots">
                                    <a href="#" style="background: #edd2c8;">
                                        <span class="sr-only">
                                            نام
                                            رنگ
                                        </span>
                                    </a>
                                    <a href="#" style="background: #eaeaec;">
                                        <span class="sr-only">
                                            نام
                                            رنگ
                                        </span>
                                    </a>
                                    <a href="#" class="active" style="background: #333333;"><span class="sr-only">نام رنگ</span></a>
                                </div><!-- End .product-nav -->
                            </div><!-- End .product-body -->
                        </div>
                    </div>



                }
            </div>
        </div><div class="owl-nav"><button type="button" role="presentation" class="owl-prev disabled"><i class="icon-angle-left"></i></button><button type="button" role="presentation" class="owl-next"><i class="icon-angle-right"></i></button></div><div class="owl-dots disabled"></div>
    </div>
</div><!-- End .container -->
